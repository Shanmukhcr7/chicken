<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Chicken Order Page</title>
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background: #fff6f0;
      margin: 0;
      padding: 20px;
      color: #333;
    }
    h1 {
      text-align: center;
      color: #d84315;
    }
    .item {
      border: 1px solid #ffccbc;
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 20px;
      background: #fff;
      display: flex;
      gap: 16px;
      align-items: center;
    }
    .item img {
      width: 120px;
      height: 120px;
      object-fit: cover;
      border-radius: 10px;
    }
    .details {
      flex: 1;
    }
    .details h3 {
      margin: 0;
    }
    .cart-btn {
      padding: 10px 16px;
      background: #ff5722;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: bold;
    }
    .cart-btn:hover {
      background: #e64a19;
    }
    .cart-summary {
      background: #ffe0b2;
      padding: 12px;
      border-radius: 10px;
      font-weight: 600;
      margin-top: 20px;
    }
    button.order-btn {
      width: 100%;
      background: #ff5722;
      color: white;
      padding: 14px;
      border: none;
      font-size: 1rem;
      font-weight: bold;
      border-radius: 10px;
      margin-top: 20px;
      cursor: pointer;
    }
    button.order-btn:hover {
      background: #e64a19;
    }
  </style>
</head>
<body>

<h1>Order Fresh Chicken</h1>

<div class="item" data-item="skin">
  <img src="skin.png" alt="Skin Chicken">
  <div class="details">
    <h3>Skin Chicken (‚Çπ<span class="price">220</span>/kg)</h3>
    <button class="cart-btn" onclick="addToCart('skin')">Add to Cart</button>
  </div>
</div>

<div class="item" data-item="skinless">
  <img src="skinless.png" alt="Skinless Chicken">
  <div class="details">
    <h3>Skinless Chicken (‚Çπ<span class="price">250</span>/kg)</h3>
    <button class="cart-btn" onclick="addToCart('skinless')">Add to Cart</button>
  </div>
</div>

<div class="item" data-item="boneless">
  <img src="boneless.png" alt="Boneless Chicken">
  <div class="details">
    <h3>Boneless Chicken (‚Çπ<span class="price">440</span>/kg)</h3>
    <button class="cart-btn" onclick="addToCart('boneless')">Add to Cart</button>
  </div>
</div>

<div class="cart-summary" id="cartSummary">
  üõí No items added.
</div>

<button class="order-btn" onclick="submitOrder()">üìç Order now & Share My Location</button>

<script>
  const PRICES = {
    skin: 220,
    skinless: 250,
    boneless: 440
  };

  const cart = {};

  function addToCart(item) {
  const qty = parseFloat(prompt("Enter quantity in grams (must be greater than 500g and less than 5000g):"));
  if (isNaN(qty) || qty <= 500 || qty >= 5000) {
    alert("‚ùó Quantity must be greater than 500g and less than 5000g.");
    return;
  }

  cart[item] = qty;

  // Update button text
  const button = document.querySelector(`[data-item="${item}"] .cart-btn`);
  button.textContent = `Added: ${qty}g`;

  alert("‚úÖ Item added to cart.");
  updateCartSummary();
}

  function updateCartSummary() {
    const summaryBox = document.getElementById("cartSummary");

    if (Object.keys(cart).length === 0) {
      summaryBox.innerHTML = "üõí No items added.";
      return;
    }

    let summaryHTML = "<strong>üßæ Order Summary:</strong><br><ul>";
    let total = 0;

    for (const [item, qty] of Object.entries(cart)) {
      const pricePerKg = PRICES[item];
      const subtotal = (qty / 1000) * pricePerKg;
      total += subtotal;

      summaryHTML += `<li>${capitalize(item)} Chicken: ${qty}g ‚Äì ‚Çπ${Math.round(subtotal)}</li>`;
    }

    total += 10; // delivery charge
    summaryHTML += `</ul>üöö Delivery: ‚Çπ10<br><strong>Total: ‚Çπ${Math.round(total)}</strong>`;
    summaryBox.innerHTML = summaryHTML;
  }

  function submitOrder() {
    if (Object.keys(cart).length === 0) {
      alert("‚ùó Please add at least one item to cart.");
      return;
    }

    let message = "Hello, I'd like to order:\n\n";
    let total = 0;

    for (const [item, qty] of Object.entries(cart)) {
      const pricePerKg = PRICES[item];
      const subtotal = (qty / 1000) * pricePerKg;
      total += subtotal;
      message += `${capitalize(item)} Chicken: ${qty}g ‚Äì ‚Çπ${Math.round(subtotal)}\n`;
    }

    total += 10;
    message += `\nDelivery: ‚Çπ10\nTotal: ‚Çπ${Math.round(total)}\n`;

    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(pos => {
        const { latitude, longitude } = pos.coords;
        const locationLink = `https://www.google.com/maps?q=${latitude},${longitude}`;
        message += `\nüìç Location: ${locationLink}`;
        const waUrl = `https://wa.me/917801035193?text=${encodeURIComponent(message)}`;
        window.open(waUrl, '_blank');
      }, () => {
        alert("‚ö†Ô∏è Please allow location access to continue.");
      });
    } else {
      alert("‚ùå Geolocation not supported.");
    }
  }

  function capitalize(str) {
    return str.charAt(0).toUpperCase() + str.slice(1);
  }
</script>

</body>
</html>
